<h3 id="docker加速地址" tabindex="-1">docker加速地址 <a class="header-anchor" href="#docker加速地址" aria-label="Permalink to “docker加速地址”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::jtualvg28vvg89m0ahchg::--><code>{
  &quot;builder&quot;: {
    &quot;gc&quot;: {
      &quot;defaultKeepStorage&quot;: &quot;20GB&quot;,
      &quot;enabled&quot;: true
    }
  },
  &quot;experimental&quot;: false,
  &quot;registry-mirrors&quot;: [
    &quot;https://registry.hub.docker.com&quot;,
    &quot;https://docker.mirrors.ustc.edu.cn&quot;,
    &quot;https://mirror.baidubce.com&quot;,
    &quot;https://docker.mirrors.sjtug.sjtu.edu.cn&quot;,
    &quot;https://docker.nju.edu.cn&quot;
  ]
}</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="docker-es-kib-7-17-6" tabindex="-1">docker_es_kib_7.17.6 <a class="header-anchor" href="#docker-es-kib-7-17-6" aria-label="Permalink to “docker_es_kib_7.17.6”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::j6l5metsxfs5qh1wodrgmh::--><code># 创建一个elastic网络
docker network create elastic
# 拉取elastic镜像
docker pull docker.elastic.co/elasticsearch/elasticsearch:7.17.6
# 创建elastic容器
docker run --restart=always --name es01-test --net elastic -p 9200:9200 -p 9300:9300 -e &quot;discovery.type=single-node&quot; -d docker.elastic.co/elasticsearch/elasticsearch:7.17.6
# 拉取kibana镜像
docker pull docker.elastic.co/kibana/kibana:7.17.6
# 创建kibana容器
docker run --restart=always --name kib01-test --net elastic -p 5601:5601 -e &quot;ELASTICSEARCH_HOSTS=http://es01-test:9200&quot; -d docker.elastic.co/kibana/kibana:7.17.6
# 可选配置(添加密码)
# 进入容器
docker exec -it es01-test /bin/bash
# 切换到config文件夹
-&gt; cd config 
# 进行配置
-&gt; echo xpack.security.enabled: true &gt;&gt; elasticsearch.yml
-&gt; echo xpack.license.self_generated.type: basic &gt;&gt; elasticsearch.yml
-&gt; echo xpack.security.transport.ssl.enabled: true &gt;&gt; elasticsearch.yml
-&gt; echo xpack.security.authc.api_key.enabled: true &gt;&gt; elasticsearch.yml
-&gt; exit
# 重启容器
docker restart es01-test
# 再次进入容器配置密码
docker exec -it es01-test /bin/bash
# 切换到bin目录
-&gt; cd bin
# 开始设置密码
-&gt; elasticsearch-setup-passwords interactive
-&gt; 输入各个的密码,有4个密码elastic, kibana, logstash_system,beats_system
# 可选是否安装中文分词插件
-&gt; cd ../plugin
-&gt; elasticsearch-plugin install https://github.com/medcl/elasticsearch-analysis-ik/releases/download/v7.17.6/elasticsearch-analysis-ik-7.17.6.zip
-&gt; exit
# 进入kibana容器
docker exec -it kib01-test /bin/bash
# 切换到config文件夹
-&gt; cd config
# 开始配置
-&gt; echo &gt;&gt; kibana.yml
-&gt; echo elasticsearch.username: &quot;elastic&quot; &gt;&gt; kibana.yml
-&gt; echo elasticsearch.password: &quot;xxxx&quot; &gt;&gt; kibana.yml   # xxxx是设置的密码
-&gt; echo i18n.locale: &quot;zh-CN&quot; &gt;&gt; kibana.yml   # 设置中文,可以不选
exit
# 重启容器
docker restart kib01-test</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><h3 id="docker-hadoop" tabindex="-1">docker_hadoop <a class="header-anchor" href="#docker-hadoop" aria-label="Permalink to “docker_hadoop”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::zh307zfpan8wnews7mygx::--><code>services:
  namenode:
    image: bde2020/hadoop-namenode:2.0.0-hadoop3.2.1-java8
    container_name: namenode
    ports:
      - 9870:9870
      - 9000:9000
    volumes:
      - ./hadoop/dfs/name:/hadoop/dfs/name
      - ./input:/input
    environment:
      - CLUSTER_NAME=test
    env_file:
      - ./hadoop.env

  datanode:
    image: bde2020/hadoop-datanode:2.0.0-hadoop3.2.1-java8
    container_name: datanode
    depends_on:
      - namenode
    volumes:
      - ./hadoop/dfs/data:/hadoop/dfs/data
    environment:
      SERVICE_PRECONDITION: &quot;namenode:9870&quot;
    env_file:
      - ./hadoop.env
  
  resourcemanager:
    image: bde2020/hadoop-resourcemanager:2.0.0-hadoop3.2.1-java8
    container_name: resourcemanager
    environment:
      SERVICE_PRECONDITION: &quot;namenode:9000 namenode:9870 datanode:9864&quot;
    env_file:
      - ./hadoop.env

  nodemanager1:
    image: bde2020/hadoop-nodemanager:2.0.0-hadoop3.2.1-java8
    container_name: nodemanager
    environment:
      SERVICE_PRECONDITION: &quot;namenode:9000 namenode:9870 datanode:9864 resourcemanager:8088&quot;
    env_file:
      - ./hadoop.env
  
  historyserver:
    image: bde2020/hadoop-historyserver:2.0.0-hadoop3.2.1-java8
    container_name: historyserver
    environment:
      SERVICE_PRECONDITION: &quot;namenode:9000 namenode:9870 datanode:9864 resourcemanager:8088&quot;
    volumes:
      - ./hadoop/yarn/timeline:/hadoop/yarn/timeline
    env_file:
      - ./hadoop.env</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::ngrpkaaunholmmz4iyt39k::--><code>CORE_CONF_fs_defaultFS=hdfs://namenode:9000
CORE_CONF_hadoop_http_staticuser_user=root
CORE_CONF_hadoop_proxyuser_hue_hosts=*
CORE_CONF_hadoop_proxyuser_hue_groups=*
CORE_CONF_io_compression_codecs=org.apache.hadoop.io.compress.SnappyCodec

HDFS_CONF_dfs_webhdfs_enabled=true
HDFS_CONF_dfs_permissions_enabled=false
HDFS_CONF_dfs_namenode_datanode_registration_ip___hostname___check=false

YARN_CONF_yarn_log___aggregation___enable=true
YARN_CONF_yarn_log_server_url=http://historyserver:8188/applicationhistory/logs/
YARN_CONF_yarn_resourcemanager_recovery_enabled=true
YARN_CONF_yarn_resourcemanager_store_class=org.apache.hadoop.yarn.server.resourcemanager.recovery.FileSystemRMStateStore
YARN_CONF_yarn_resourcemanager_scheduler_class=org.apache.hadoop.yarn.server.resourcemanager.scheduler.capacity.CapacityScheduler
YARN_CONF_yarn_scheduler_capacity_root_default_maximum___allocation___mb=8192
YARN_CONF_yarn_scheduler_capacity_root_default_maximum___allocation___vcores=4
YARN_CONF_yarn_resourcemanager_fs_state___store_uri=/rmstate
YARN_CONF_yarn_resourcemanager_system___metrics___publisher_enabled=true
YARN_CONF_yarn_resourcemanager_hostname=resourcemanager
YARN_CONF_yarn_resourcemanager_address=resourcemanager:8032
YARN_CONF_yarn_resourcemanager_scheduler_address=resourcemanager:8030
YARN_CONF_yarn_resourcemanager_resource__tracker_address=resourcemanager:8031
YARN_CONF_yarn_timeline___service_enabled=true
YARN_CONF_yarn_timeline___service_generic___application___history_enabled=true
YARN_CONF_yarn_timeline___service_hostname=historyserver
YARN_CONF_mapreduce_map_output_compress=true
YARN_CONF_mapred_map_output_compress_codec=org.apache.hadoop.io.compress.SnappyCodec
YARN_CONF_yarn_nodemanager_resource_memory___mb=16384
YARN_CONF_yarn_nodemanager_resource_cpu___vcores=8
YARN_CONF_yarn_nodemanager_disk___health___checker_max___disk___utilization___per___disk___percentage=98.5
YARN_CONF_yarn_nodemanager_remote___app___log___dir=/app-logs
YARN_CONF_yarn_nodemanager_aux___services=mapreduce_shuffle

MAPRED_CONF_mapreduce_framework_name=yarn
MAPRED_CONF_mapred_child_java_opts=-Xmx4096m
MAPRED_CONF_mapreduce_map_memory_mb=4096
MAPRED_CONF_mapreduce_reduce_memory_mb=8192
MAPRED_CONF_mapreduce_map_java_opts=-Xmx3072m
MAPRED_CONF_mapreduce_reduce_java_opts=-Xmx6144m
MAPRED_CONF_yarn_app_mapreduce_am_env=HADOOP_MAPRED_HOME=/data/docker-compose/hadoop-3.2.1/
MAPRED_CONF_mapreduce_map_env=HADOOP_MAPRED_HOME=/data/docker-compose/hadoop-3.2.1/
MAPRED_CONF_mapreduce_reduce_env=HADOOP_MAPRED_HOME=/data/docker-compose/hadoop-3.2.1/</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><h3 id="docker-mongo" tabindex="-1">docker_mongo <a class="header-anchor" href="#docker-mongo" aria-label="Permalink to “docker_mongo”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::m26tf0pygij6q4551j0xgn::--><code># docker pull 
docker pull mongo:4.4-rc
# docker run
docker run --rm --name mongo -d -p 27017:27017 -v D:\Mongodb\master\data:/data/db mongo:4.4-rc
docker run -itd --restart=always -p 27017:27017 -e MONGO_INITDB_ROOT_USERNAME=lideshan -e MONGO_INITDB_ROOT_PASSWORD=leemuzi -v /home/ubuntu/docker_config/mongo/db:/data/db mongo</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="docker-neo4j" tabindex="-1">docker_neo4j <a class="header-anchor" href="#docker-neo4j" aria-label="Permalink to “docker_neo4j”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::x06o9vgp6fbqxzjr5kujt::--><code>version: &quot;3&quot;
services:
  neo4j:
    image: neo4j
    volumes:

      - ./db/neo4j/conf:/var/lib/neo4j/conf:rw
      - ./db/neo4j/mnt:/var/lib/neo4j/import:rw
      - ./db/neo4j/plugins:/plugins:rw
      - ./db/neo4j/data:/data:rw
      - ./db/neo4j/logs:/var/lib/neo4j/logs:rw

    restart: always
    ports:

      - 7474:7474
      - 7687:7687

    environment:

      - NEO4J_dbms_memory_heap_maxSize=4G
      - NEO4J_AUTH=neo4j/123456 #修改默认用户密码</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::2k0z69pskcmyaprw5fiqcb::--><code>docker run --publish=7474:7474 --publish=7687:7687 --name neo4j -d neo4j</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="docker-redis" tabindex="-1">docker_redis <a class="header-anchor" href="#docker-redis" aria-label="Permalink to “docker_redis”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::2gg7h7sf3aqb2vue8m26su::--><code># 拉镜像
docker pull redis
# docker run
docker run --name some-redis -p 6379:6379 -d redis
docker run -itd --restart=always -p 6379:6379 --name redis -v /home/ubuntu/docker_config/redis/data:/data -v /home/ubuntu/docker_config/redis/conf:/etc/redis redis redis-server /etc/redis/redis.conf</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="docker-postgresql" tabindex="-1">docker_postgresql <a class="header-anchor" href="#docker-postgresql" aria-label="Permalink to “docker_postgresql”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::qcslgi3gr7dgxfd7jf2dm::--><code>docker run -d -p 5432:5432 --name postgresql -v pgdata:/var/lib/postgresql/data -e POSTGRES_PASSWORD=pass123 postgres</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="docker-hertzbeat" tabindex="-1">docker_hertzbeat <a class="header-anchor" href="#docker-hertzbeat" aria-label="Permalink to “docker_hertzbeat”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::8gtcq5jl9genkav51tktcr::--><code>监控
docker run -d -p 1157:1157 -p 1158:1158 -e LANG=zh_CN.UTF-8 -e TZ=Asia/Shanghai -v /root/hertzbeat//data:/opt/hertzbeat/data -v /root/hertzbeat/logs:/opt/hertzbeat/logs -v /root/hertzbeat/application.yml:/opt/hertzbeat/config/application.yml -v /root/hertzbeat/sureness.yml:/opt/hertzbeat/config/sureness.yml --restart=always --name hertzbeat tancloud/hertzbeat
# 采集器
docker run -d -e IDENTITY=custom-collector-name -e MODE=public -e MANAGER_HOST=127.0.0.1 -e MANAGER_PORT=1158 --name hertzbeat-collector tancloud/hertzbeat-collector</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="docker-mysql" tabindex="-1">docker_mysql <a class="header-anchor" href="#docker-mysql" aria-label="Permalink to “docker_mysql”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::ommg8s7yd9a3m98ev56x3l::--><code>docker run -itd --restart=always -p 3306:3306 --name mysql -v /home/ubuntu/docker_config/mysql/log:/var/log/mysql -v /home/ubuntu/docker_config/mysql/data:/var/lib/mysql -v /home/ubuntu/docker_config/mysql/conf:/etc/mysql -e MYSQL_ROOT_PASSWORD=lideshan mysql:5.7</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="docker-域名扫描" tabindex="-1">docker_域名扫描 <a class="header-anchor" href="#docker-域名扫描" aria-label="Permalink to “docker_域名扫描”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::tytif3bg8wfvreue6dnyap::--><code>docker run -p 3000:3000 lissy93/web-check</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="ciphey自动解密" tabindex="-1">Ciphey自动解密 <a class="header-anchor" href="#ciphey自动解密" aria-label="Permalink to “Ciphey自动解密”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::5v2lr4gkhgqualrzq78hjb::--><code>https://github.com/Ciphey/Ciphey</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="bt聚合" tabindex="-1">bt聚合 <a class="header-anchor" href="#bt聚合" aria-label="Permalink to “bt聚合”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::bn3lcehweynkt34s1usn7::--><code>https://github.com/Jackett/Jackett</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="别具一格的头像" tabindex="-1">别具一格的头像 <a class="header-anchor" href="#别具一格的头像" aria-label="Permalink to “别具一格的头像”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::86basww1h1weat2gv07k5d::--><code>https://github.com/TencentARC/PhotoMaker</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="vue构建项目docker部署" tabindex="-1">vue构建项目docker部署 <a class="header-anchor" href="#vue构建项目docker部署" aria-label="Permalink to “vue构建项目docker部署”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::mncf7mp046hzey3and2so::--><code># 创建一个vue项目
npm init vite@latest my-vue-app -- --template vue
cd my-vue-app
npm install
npm run build
# 编写dockerfile文件
# 使用官方nginx镜像作为基础镜像 
FROM nginx:latest 
# 将dist目录中的文件复制到nginx的默认站点目录 
COPY dist/ /usr/share/nginx/html/ # 可选：如果你的Vue应用使用了history模式的路由，你可能需要一个配置来重定向所有的请求到index.html 
COPY nginx.conf /etc/nginx/conf.d/default.conf
# 构建镜像
docker build -t vue_demo .
# 运行镜像
docker run -d -p 80:80 vue_demo</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="ast笔记" tabindex="-1">ast笔记 <a class="header-anchor" href="#ast笔记" aria-label="Permalink to “ast笔记”">&#8203;</a></h3>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::4mc4c5ll66j495bb7jcr7e::--><code># 01-ast学习

## 什么是AST？

AST（Abstract Syntax Tree，抽象语法树）是源代码的结构化表示，是编译器、解释器、代码分析和重构工具的核心。

- **作用**：将源代码转换为树状结构，便于分析、修改和生成代码。
- **常见应用**：代码检查、自动重构、代码格式化、代码生成、静态分析等。

## AST的基本结构

- **节点（Node）**：每个节点代表代码中的一种结构（如变量、函数、表达式等）。
- **树形结构**：节点之间有父子关系，根节点代表整个程序。

## Python中的AST模块

Python内置`ast`模块可用于解析、分析和修改Python代码。

### 基本用法

```python
import ast

code = &quot;&quot;&quot;
def add(a, b):
    return a + b
&quot;&quot;&quot;
tree = ast.parse(code)
print(ast.dump(tree, indent=4))</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="遍历ast" tabindex="-1">遍历AST <a class="header-anchor" href="#遍历ast" aria-label="Permalink to “遍历AST”">&#8203;</a></h3>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::v1zlrtxnrgn3e155btt1k7::--><code>import ast

class MyVisitor(ast.NodeVisitor):
    def visit_FunctionDef(self, node):
        print(f&quot;函数名: {node.name}&quot;)
        self.generic_visit(node)

code = &quot;&quot;&quot;
def add(a, b):
    return a + b
&quot;&quot;&quot;
tree = ast.parse(code)
MyVisitor().visit(tree)</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="修改ast" tabindex="-1">修改AST <a class="header-anchor" href="#修改ast" aria-label="Permalink to “修改AST”">&#8203;</a></h3>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::ykl2vu6e8ziovyjq0db48d::--><code>import ast

class RenameFunction(ast.NodeTransformer):
    def visit_FunctionDef(self, node):
        node.name = &quot;new_&quot; + node.name
        return node

code = &quot;&quot;&quot;
def add(a, b):
    return a + b
&quot;&quot;&quot;
tree = ast.parse(code)
new_tree = RenameFunction().visit(tree)
print(ast.unparse(new_tree))</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="javascript中的ast工具" tabindex="-1">JavaScript中的AST工具 <a class="header-anchor" href="#javascript中的ast工具" aria-label="Permalink to “JavaScript中的AST工具”">&#8203;</a></h2>
<ul>
<li><strong>recast</strong>：支持解析、修改和生成JS代码。</li>
<li><strong>babel</strong>：现代JS工具链的核心，支持AST转换。</li>
</ul>
<h3 id="安装recast" tabindex="-1">安装recast <a class="header-anchor" href="#安装recast" aria-label="Permalink to “安装recast”">&#8203;</a></h3>
<div class="language-bash line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre><!--::markdown-it-async::zpybuzylue5orvek4j1wg::--><code>npm i recast -S</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="基本用法-recast" tabindex="-1">基本用法（recast） <a class="header-anchor" href="#基本用法-recast" aria-label="Permalink to “基本用法（recast）”">&#8203;</a></h3>
<div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre><!--::markdown-it-async::383ngj6sqwwg9pgszv4ej::--><code>const recast = require(&quot;recast&quot;);
const code = `function add(a, b) { return a + b; }`;
const ast = recast.parse(code);

recast.visit(ast, {
  visitFunctionDeclaration(path) {
    path.node.id.name = &quot;new_&quot; + path.node.id.name;
    this.traverse(path);
  }
});

const output = recast.print(ast).code;
console.log(output); // function new_add(a, b) { return a + b; }</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="ast实战案例" tabindex="-1">AST实战案例 <a class="header-anchor" href="#ast实战案例" aria-label="Permalink to “AST实战案例”">&#8203;</a></h2>
<h3 id="_1-统计python文件中所有函数名" tabindex="-1">1. 统计Python文件中所有函数名 <a class="header-anchor" href="#_1-统计python文件中所有函数名" aria-label="Permalink to “1. 统计Python文件中所有函数名”">&#8203;</a></h3>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::k7lxjtjr4dnj8ivrv2h4vc::--><code>import ast

class FuncLister(ast.NodeVisitor):
    def visit_FunctionDef(self, node):
        print(node.name)
        self.generic_visit(node)

with open(&#039;your_file.py&#039;, &#039;r&#039;, encoding=&#039;utf-8&#039;) as f:
    tree = ast.parse(f.read())
FuncLister().visit(tree)</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="_2-自动重命名变量" tabindex="-1">2. 自动重命名变量 <a class="header-anchor" href="#_2-自动重命名变量" aria-label="Permalink to “2. 自动重命名变量”">&#8203;</a></h3>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::ewjzzgcyvu46pzxaotdkin::--><code>import ast

class RenameVar(ast.NodeTransformer):
    def visit_Name(self, node):
        if node.id == &#039;a&#039;:
            node.id = &#039;x&#039;
        return node

code = &quot;a = 1\nprint(a)&quot;
tree = ast.parse(code)
new_tree = RenameVar().visit(tree)
print(ast.unparse(new_tree))</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="进阶技巧" tabindex="-1">进阶技巧 <a class="header-anchor" href="#进阶技巧" aria-label="Permalink to “进阶技巧”">&#8203;</a></h2>
<ul>
<li><strong>自定义NodeVisitor和NodeTransformer</strong>：实现复杂的代码分析和重构。</li>
<li><strong>结合ast和codegen/unparse</strong>：实现代码的自动生成。</li>
<li><strong>与类型注解、静态分析工具结合</strong>：如mypy、pylint等。</li>
<li><strong>跨语言AST</strong>：如Babel（JS）、libclang（C/C++）、ANTLR（多语言）。</li>
</ul>
<h2 id="推荐学习资源" tabindex="-1">推荐学习资源 <a class="header-anchor" href="#推荐学习资源" aria-label="Permalink to “推荐学习资源”">&#8203;</a></h2>
<ul>
<li><a href="https://docs.python.org/zh-cn/3/library/ast.html" target="_blank" rel="noreferrer">Python官方ast文档</a></li>
<li><a href="https://astexplorer.net/" target="_blank" rel="noreferrer">AST Explorer</a>（可在线查看多语言AST）</li>
<li><a href="https://github.com/benjamn/recast" target="_blank" rel="noreferrer">recast文档</a></li>
<li><a href="https://github.com/jamiebuilds/babel-handbook" target="_blank" rel="noreferrer">Babel Handbook</a></li>
</ul>
<hr>
<p>通过系统学习和实践AST，你可以实现自动化代码分析、重构、生成等高级功能，是提升编程能力的重要工具。</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::jtsvjk2kmobukga9aics7::--><code>
### python常见的加解密
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><hr>
<p>title: python常见的加解密
tag:</p>
<ul>
<li>aes</li>
<li>python
category:</li>
<li>python</li>
</ul>
<hr>
<h2 id="urlencode加密" tabindex="-1">urlencode加密 <a class="header-anchor" href="#urlencode加密" aria-label="Permalink to “urlencode加密”">&#8203;</a></h2>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::7rcw80r738b2yxridq0n0c::--><code># urlencode加密
import urllib.parse

text = &quot;我爱吃鸡腿&quot;
s = urllib.parse.quote(text)
print(s) # %E6%88%91%E7%88%B1%E5%90%83%E9%B8%A1%E8%85%BF
u = urllib.parse.unquote(s)
print(u) #我爱吃鸡腿</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="unicode加密" tabindex="-1">unicode加密 <a class="header-anchor" href="#unicode加密" aria-label="Permalink to “unicode加密”">&#8203;</a></h2>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::tlvn7oyh6teq1fgrldfxh::--><code>str1 = &quot;你好&quot;
# 编码
enStr1 = str1.encode(&#039;unicode-escape&#039;).decode()
print(enStr1) # \u4f60\u597d

# 解码
deStr1 = enStr1.encode().decode(&#039;unicode-escape&#039;)
print(deStr1) # 你好</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="base64加密" tabindex="-1">Base64加密 <a class="header-anchor" href="#base64加密" aria-label="Permalink to “Base64加密”">&#8203;</a></h2>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::esefduyc7ii8vqszor396f::--><code>import base64

def base64_encode(text):
    encode_data = base64.b64encode(text.encode())
    return encode_data

def base64_decode(encode_data):
    decode_data = base64.b64decode(encode_data)
    return decode_data

if __name__ == &#039;__main__&#039;:
    text = &#039;I love Python!&#039;
    encode_data = base64_encode(text)
    decode_data = base64_decode(encode_data)
    print(&#039;Base64 编码：&#039;, encode_data)
    print(&#039;Base64 解码：&#039;, decode_data)

    # Base64 编码： b&#039;SSBsb3ZlIFB5dGhvbiE=&#039;
# Base64 解码： b&#039;I love Python!&#039;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="md5" tabindex="-1">MD5 <a class="header-anchor" href="#md5" aria-label="Permalink to “MD5”">&#8203;</a></h2>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::5g3yy4pd6jkoeaeymgp4ho::--><code>import hashlib

def md5_test1():
    md5 = hashlib.new(&#039;md5&#039;, &#039;I love python!&#039;.encode(&#039;utf-8&#039;))
    print(md5.hexdigest())

def md5_test2():
    md5 = hashlib.md5()
    md5.update(&#039;I love &#039;.encode(&#039;utf-8&#039;))
    md5.update(&#039;python!&#039;.encode(&#039;utf-8&#039;))
    print(md5.hexdigest())

if __name__ == &#039;__main__&#039;:
    md5_test1()  # 21169ee3acd4a24e1fcb4322cfd9a2b8
    md5_test2()  # 21169ee3acd4a24e1fcb4322cfd9a2b8</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="pbkdf2" tabindex="-1">PBKDF2 <a class="header-anchor" href="#pbkdf2" aria-label="Permalink to “PBKDF2”">&#8203;</a></h2>
<p>简介：英文名称：Password-Based Key Derivation Function 2，
PBKDF2 是 RSA 实验室的公钥加密标准（PKCS）系列的一部分，
2017 年发布的 RFC 8018 （PKCS #5 v2.1）推荐使用 PBKDF2 进行密码散列。
PBKDF2 将伪随机函数（例如 HMAC），
把明文和一个盐值（salt）作为输入参数，然后进行重复运算，并最终产生密钥，
如果重复的次数足够大，破解的成本就会变得很高。</p>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::n9bdyra9cqdhg3nse4i8k::--><code>import binascii
from Cryptodome.Hash import SHA1
from Cryptodome.Protocol.KDF import PBKDF2

text = &#039;I love Python!&#039;
salt = b&#039;43215678&#039;
result = PBKDF2(text,  salt, count=10, hmac_hash_module=SHA1)
result = binascii.hexlify(result)
print(result)</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="sha" tabindex="-1">SHA <a class="header-anchor" href="#sha" aria-label="Permalink to “SHA”">&#8203;</a></h2>
<p>简介：全称安全哈希算法（英文名称：Secure Hash Algorithm），
由美国国家安全局（NSA）所设计，主要适用于数字签名标准
（Digital Signature Standard DSS）里面定义的数字签名算法（
Digital Signature Algorithm DSA），SHA 通常指 SHA 家族的五个算法，
分别是 SHA-1、SHA-224、SHA-256、SHA-384、SHA-512，
后四者有时并称为 SHA-2，SHA 是比 MD5 更安全一点的摘要算法，
MD5 的密文是 32 位，而 SHA-1 是 40 位，
版本越强，密文越长，代价是速度越慢。</p>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::jelpghmeh8y4ox8r2fc5::--><code>import hashlib

def sha1_test1():
    sha1 = hashlib.new(&#039;sha1&#039;, &#039;I love python!&#039;.encode(&#039;utf-8&#039;))
    print(sha1.hexdigest())

def sha1_test2():
    sha1 = hashlib.sha1()
    sha1.update(&#039;I love python!&#039;.encode(&#039;utf-8&#039;))
    print(sha1.hexdigest())

if __name__ == &#039;__main__&#039;:
    sha1_test1()  # 23c02b203bd2e2ca19da911f1d270a06d86719fb
    sha1_test2()  # 23c02b203bd2e2ca19da911f1d270a06d86719fb</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="hmac" tabindex="-1">HMAC <a class="header-anchor" href="#hmac" aria-label="Permalink to “HMAC”">&#8203;</a></h2>
<p>简介：全称散列消息认证码、密钥相关的哈希运算消息认证码
（英文名称：Hash-based Message Authentication Code 或者 Keyed-hash Message Authentication Code），
于 1996 年提出，1997 年作为 RFC 2104 被公布，HMAC 加密算法是一种安全的基于加密 Hash
函数和共享密钥的消息认证协议，它要求通信双方共享密钥 key、约定算法、
对报文进行 Hash 运算，形成固定长度的认证码。通信双方
通过认证码的校验来确定报文的合法性。</p>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::cgbiy7k31njguqxh2ki6kj::--><code>import hmac

def hmac_test1():
    message = b&#039;I love python!&#039;
    key = b&#039;secret&#039;
    md5 = hmac.new(key, message, digestmod=&#039;MD5&#039;)
    print(md5.hexdigest())

def hmac_test2():
    key = &#039;secret&#039;.encode(&#039;utf8&#039;)
    sha1 = hmac.new(key, digestmod=&#039;sha1&#039;)
    sha1.update(&#039;I love &#039;.encode(&#039;utf8&#039;))
    sha1.update(&#039;Python!&#039;.encode(&#039;utf8&#039;))
    print(sha1.hexdigest())

if __name__ == &#039;__main__&#039;:
    hmac_test1()  # 9c503a1f852edcc3526ea56976c38edf
    hmac_test2()  # 2d8449a4292d4bbeed99ce9ea570880d6e19b61a</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h2 id="des" tabindex="-1">DES <a class="header-anchor" href="#des" aria-label="Permalink to “DES”">&#8203;</a></h2>
<p>简介：全称数据加密标准（英文名称：Data Encryption Standard），加密与解密使用同一密钥，
属于对称加密算法，1977 年被美国联邦政府的国家标准局确定为联邦资料处理标准（FIPS），
DES 是一个分组加密算法，使用 56 位的密钥（一般认为密钥是 64 位，
但是密钥的每个第 8 位设置为奇偶校验位，所以实际上有效位只有 56 位），
由于 56 位密钥长度相对较短，所以 DES 是不安全的，现在基本上已被更高级的加密标准 AES 取代。</p>
<p>mode 支持：CBC，CFB，CTR，CTRGladman，ECB，OFB 等。</p>
<p>padding 支持：ZeroPadding，NoPadding，AnsiX923，Iso10126，Iso97971，Pkcs7 等。</p>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::7lf1okn5agpguqoj6q0eha::--><code>import binascii
# 加密模式 CBC，填充方式 PAD_PKCS5
from pyDes import des, CBC, PAD_PKCS5

def des_encrypt(key, text, iv):
    k = des(key, CBC, iv, pad=None, padmode=PAD_PKCS5)
    en = k.encrypt(text, padmode=PAD_PKCS5)
    return binascii.b2a_hex(en)

def des_decrypt(key, text, iv):
    k = des(key, CBC, iv, pad=None, padmode=PAD_PKCS5)
    de = k.decrypt(binascii.a2b_hex(text), padmode=PAD_PKCS5)
    return de

if __name__ == &#039;__main__&#039;:
    secret_key = &#039;12345678&#039;   # 密钥
    text = &#039;I love Python!&#039;   # 加密对象
    iv = secret_key           # 偏移量
    secret_str = des_encrypt(secret_key, text, iv)
    print(&#039;加密字符串：&#039;, secret_str)
    clear_str = des_decrypt(secret_key, secret_str, iv)
    print(&#039;解密字符串：&#039;, clear_str)

    # 加密字符串： b&#039;302d3abf2421169239f829b38a9545f1&#039;
    # 解密字符串： b&#039;I love Python!&#039;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="_3des" tabindex="-1">3DES <a class="header-anchor" href="#_3des" aria-label="Permalink to “3DES”">&#8203;</a></h2>
<p>简介：全称三重数据加密算法（英文名称：Triple Data Encryption Standard、
Triple Data Encryption Algorithm、TDES、TDEA），是对称加密算法中的一种。
70 年代初由 IBM 研发，后 1977 年被美国国家标准局采纳为数据加密标准，
它相当于是对每个数据块应用三次 DES 加密算法。由于计算机运算能力的增强，
原版 DES 密码的密钥长度变得容易被暴力破解；3DES 即是设计用来提供一种相对简单的方法，
即通过增加 DES 的密钥长度来避免破解，所以严格来说 3DES 不是设计一种全新的块密码算法。</p>
<p>mode 支持：CBC，CFB，CTR，CTRGladman，ECB，OFB 等。</p>
<p>padding 支持：ZeroPadding，NoPadding，AnsiX923，Iso10126，Iso97971，Pkcs7 等。</p>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::hwb11skx94bbvivefhk7m::--><code>from Cryptodome.Cipher import DES3
from Cryptodome import Random

# 需要补位，str不是16的倍数那就补足为16的倍数
def add_to_16(value):
    while len(value) % 16 != 0:
        value += &#039;\0&#039;
    return str.encode(value)

def des_encrypt(key, text, iv):
    # 加密模式 OFB
    cipher_encrypt = DES3.new(add_to_16(key), DES3.MODE_OFB, iv)
    encrypted_text = cipher_encrypt.encrypt(text.encode(&quot;utf-8&quot;))
    return encrypted_text

def des_decrypt(key, text, iv):
    # 加密模式 OFB
    cipher_decrypt = DES3.new(add_to_16(key), DES3.MODE_OFB, iv)
    decrypted_text = cipher_decrypt.decrypt(text)
    return decrypted_text

if __name__ == &#039;__main__&#039;:
    key = &#039;12345678&#039;            # 密钥，16 位
    text = &#039;I love Python!&#039;     # 加密对象
    iv = Random.new().read(DES3.block_size)  # DES3.block_size == 8
    secret_str = des_encrypt(key, text, iv)
    print(&#039;加密字符串：&#039;, secret_str)
    clear_str = des_decrypt(key, secret_str, iv)
    print(&#039;解密字符串：&#039;, clear_str)

# 加密字符串： b&#039;\xa5\x8a\xd4R\x99\x16j\xba?vg\xf2\xb6\xa9&#039;
# 解密字符串： b&#039;I love Python!&#039;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><h2 id="aes" tabindex="-1">AES <a class="header-anchor" href="#aes" aria-label="Permalink to “AES”">&#8203;</a></h2>
<p>简介：全称高级加密标准（英文名称：Advanced Encryption Standard），
在密码学中又称 Rijndael 加密法，由美国国家标准与技术研究院 （NIST）于 2001 年发布，
并在 2002 年成为有效的标准，是美国联邦政府采用的一种区块加密标准。
这个标准用来替代原先的 DES，已经被多方分析且广为全世界所使用，
它本身只有一个密钥，即用来实现加密，也用于解密。</p>
<p>mode 支持：CBC，CFB，CTR，CTRGladman，ECB，OFB 等。</p>
<p>padding 支持：ZeroPadding，NoPadding，AnsiX923，Iso10126，Iso97971，Pkcs7 等。</p>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::eqc4nwnr69na0x5v8ztmy5::--><code>import base64
from Cryptodome.Cipher import AES

# 需要补位，str不是16的倍数那就补足为16的倍数
def add_to_16(value):
    while len(value) % 16 != 0:
        value += &#039;\0&#039;
    return str.encode(value)

# 加密方法
def aes_encrypt(key, t, iv):
    aes = AES.new(add_to_16(key), AES.MODE_CBC, add_to_16(iv))  # 初始化加密器
    encrypt_aes = aes.encrypt(add_to_16(t)) # 先进行 aes 加密
    # 执行加密并转码返回 bytes
    encrypted_text = str(base64.encodebytes(encrypt_aes), encoding=&#039;utf-8&#039;)  
    return encrypted_text

# 解密方法
def aes_decrypt(key, t, iv):
    # 初始化加密器
    aes = AES.new(add_to_16(key), AES.MODE_CBC, add_to_16(iv))     
    # 优先逆向解密 base64 成 bytes   
    base64_decrypted = base64.decodebytes(t.encode(encoding=&#039;utf-8&#039;)) 
    # 执行解密密并转码返回str 
    decrypted_text = str(aes.decrypt(base64_decrypted), encoding=&#039;utf-8&#039;).replace(&#039;\0&#039;, &#039;&#039;)  
    return decrypted_text

if __name__ == &#039;__main__&#039;:
    secret_key = &#039;12345678&#039;   # 密钥
    text = &#039;I love Python!&#039;   # 加密对象
    iv = secret_key           # 初始向量
    encrypted_str = aes_encrypt(secret_key, text, iv)
    print(&#039;加密字符串：&#039;, encrypted_str)
    decrypted_str = aes_decrypt(secret_key, encrypted_str, iv)
    print(&#039;解密字符串：&#039;, decrypted_str)

# 加密字符串： lAVKvkQh+GtdNpoKf4/mHA==
# 解密字符串： I love Python!</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="aes-ecb-pkc7-模式" tabindex="-1">AES ECB PKC7 模式 <a class="header-anchor" href="#aes-ecb-pkc7-模式" aria-label="Permalink to “AES ECB PKC7 模式”">&#8203;</a></h3>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::m3klnelyryoe3zr3h65e3q::--><code>from Cryptodome.Cipher import AES
from Cryptodome.Util.Padding import pad

def aes_cipher(key, aes_str):
    # 使用key,选择加密方式
    aes = AES.new(key.encode(&#039;utf-8&#039;), AES.MODE_ECB)
    pad_pkcs7 = pad(aes_str.encode(&#039;utf-8&#039;), AES.block_size, style=&#039;pkcs7&#039;)  # 选择pkcs7补全
    encrypt_aes = aes.encrypt(pad_pkcs7)
    # 加密结果
    encrypted_text = str(base64.encodebytes(encrypt_aes), encoding=&#039;utf-8&#039;)  # 解码
    encrypted_text_str = encrypted_text.replace(&quot;\n&quot;, &quot;&quot;)
    # 此处我的输出结果老有换行符，所以用了临时方法将它剔除
    return encrypted_text_str</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="rc4" tabindex="-1">RC4 <a class="header-anchor" href="#rc4" aria-label="Permalink to “RC4”">&#8203;</a></h2>
<p>简介：英文名称：Rivest Cipher 4，也称为 ARC4 或 ARCFOUR，是一种流加密算法，
密钥长度可变。它加解密使用相同的密钥，因此也属于对称加密算法。
RC4 是有线等效加密（WEP）中采用的加密算法，也曾经是 TLS 可采用的算法之一，
该算法的速度可以达到 DES 加密的 10 倍左右，且具有很高级别的非线性，
虽然它在软件方面的简单性和速度非常出色，但在 RC4 中发现了多个漏洞，
它特别容易受到攻击，RC4 作为一种老旧的验证和加密算法易于受到黑客攻击，
现在逐渐不推荐使用了。</p>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::jutdrab4ohiwqv8l367kt::--><code>import base64
from Cryptodome.Cipher import ARC4

def rc4_encrypt(key, t):
    enc = ARC4.new(key.encode(&#039;utf8&#039;))
    res = enc.encrypt(t.encode(&#039;utf-8&#039;))
    res = base64.b64encode(res)
    return res

def rc4_decrypt(key, t):
    data = base64.b64decode(t)
    enc = ARC4.new(key.encode(&#039;utf8&#039;))
    res = enc.decrypt(data)
    return res

if __name__ == &quot;__main__&quot;:
    secret_key = &#039;12345678&#039;   # 密钥
    text = &#039;I love Python!&#039;   # 加密对象
    encrypted_str = rc4_encrypt(secret_key, text)
    print(&#039;加密字符串：&#039;, encrypted_str)
    decrypted_str = rc4_decrypt(secret_key, encrypted_str)
    print(&#039;解密字符串：&#039;, decrypted_str)

# 加密字符串： b&#039;8tNVu3/U/veJR2KgyBw=&#039;
# 解密字符串： b&#039;I love Python!&#039;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><h2 id="rabbit" tabindex="-1">Rabbit <a class="header-anchor" href="#rabbit" aria-label="Permalink to “Rabbit”">&#8203;</a></h2>
<p>简介：Rabbit 加密算法是一个高性能的流密码加密方式，
2003 年首次被提出，它从 128 位密钥和 64 位初始向量（iv）创建一个密钥流。</p>
<p>目前没有找到有第三方库可以直接实现 Rabbit 算法，
在 Python 中实现可以 <a href="https://asecuritysite.com/encryption/rabbit2" target="_blank" rel="noreferrer">参考</a></p>
<h2 id="rsa" tabindex="-1">RSA <a class="header-anchor" href="#rsa" aria-label="Permalink to “RSA”">&#8203;</a></h2>
<p>简介：英文名称：Rivest-Shamir-Adleman，是 1977 年由罗纳德·李维斯特（Ron Rivest）、
阿迪·萨莫尔（Adi Shamir）和伦纳德·阿德曼（Leonard Adleman）一起提出的，
RSA 就是他们三人姓氏开头字母拼在一起组成的，RSA 加密算法是一种非对称加密算法。
在公开密钥加密和电子商业中RSA被广泛使用。它被普遍认为是目前比较优秀的公钥方案之一。
RSA是第一个能同时用于加密和数字签名的算法，它能够抵抗到目前为止已知的所有密码攻击。</p>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::wi6gdwwzudg8kqdx8z7q37::--><code>import rsa

def rsa_encrypt(pu_key, t):
    # 公钥加密
    rsa = rsa.encrypt(t.encode(&quot;utf-8&quot;), pu_key)
    return rsa

def rsa_decrypt(pr_key, t):
    # 私钥解密
    rsa = rsa.decrypt(t, pr_key).decode(&quot;utf-8&quot;)
    return rsa

if __name__ == &quot;__main__&quot;:
    public_key, private_key = rsa.newkeys(512)   # 生成公钥、私钥
    print(&#039;公钥：&#039;, public_key)
    print(&#039;私钥：&#039;, private_key)
    text = &#039;I love Python!&#039;  # 加密对象
    encrypted_str = rsa_encrypt(public_key, text)
    print(&#039;加密字符串：&#039;, encrypted_str)
    decrypted_str = rsa_decrypt(private_key, encrypted_str)
    print(&#039;解密字符串：&#039;, decrypted_str)

&#039;&#039;&#039;
公钥： PublicKey(7636479066127060956100056267701318377455704072072698049978592945665550579944731953431504993757594103617537700972424661030900303472123028864161050235168613, 65537)
私钥： PrivateKey(7636479066127060956100056267701318377455704072072698049978592945665550579944731953431504993757594103617537700972424661030900303472123028864161050235168613, 65537, 3850457767980968449796700480128630632818465005441846698224554128042451115530564586537997896922067523638756079019054611200173122138274839877369624069360253, 4713180694194659323798858305046043997526301456820208338158979730140812744181638767, 1620238976946735819854194349514460863335347861649166352709029254680140139)
加密字符串： b&quot;\x1aaeps\xa0c}\xb6\xcf\xa3\xb0\xbb\xedA\x7f}\x03\xdc\xd5\x1c\x9b\xdb\xda\xf9q\x80[=\xf5\x91\r\xd0&#039;f\xce\x1f\x01\xef\xa5\xdb3\x96\t0qIxF\xbd\x11\xd6\xb25\xc5\xe1pM\xb4M\xc2\xd4\x03\xa6&quot;
解密字符串： I love Python!
&#039;&#039;&#039;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h2 id="模块-cryptodome" tabindex="-1">模块 Cryptodome <a class="header-anchor" href="#模块-cryptodome" aria-label="Permalink to “模块 Cryptodome”">&#8203;</a></h2>
<div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::jnwxn3qdx2dhn4uyb0oiy::--><code>import base64
from Cryptodome.PublicKey import RSA
from Cryptodome.Cipher import PKCS1_v1_5

data = &quot;cKK8B2rWwfwWeXhz&quot;
public_key = &quot;MFwwDQYJKoZIhvcNAQEBBQADSwAwSAJBAM1xhOWaThSMpfxFsjV5YaWOFHt+6RvS+zH2Pa47VVr8PkZYnRaaKKy2MYBuEh7mZfM/R1dUXTgu0gp6VTNeNQkCAwEAAQ==&quot;
rsa_key = RSA.import_key(base64.b64decode(public_key))  # 导入读取到的公钥
cipher = PKCS1_v1_5.new(rsa_key)                        # 生成对象
cipher_text = base64.b64encode(cipher.encrypt(data.encode(encoding=&quot;utf-8&quot;)))
print(cipher_text)</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>出处 <a href="https://www.52pojie.cn/thread-1829215-1-1.html" target="_blank" rel="noreferrer">Python常见的各种加密解密算法_吾爱破解论坛</a></p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::rg6op8hcx9jnvodbk15vb::--><code>
### 使用cv检测图片中是否有人物
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>import os<br>
import shutil</p>
<h1 id="解决中文路径的问题" tabindex="-1">解决中文路径的问题 <a class="header-anchor" href="#解决中文路径的问题" aria-label="Permalink to “解决中文路径的问题”">&#8203;</a></h1>
<p>import sys</p>
<p>import cv2</p>
<h1 id="获取当前文件路径" tabindex="-1">获取当前文件路径 <a class="header-anchor" href="#获取当前文件路径" aria-label="Permalink to “获取当前文件路径”">&#8203;</a></h1>
<p>cur_path = os.path.abspath(<strong>file</strong>)</p>
<h1 id="获取当前文件的父目录" tabindex="-1">获取当前文件的父目录 <a class="header-anchor" href="#获取当前文件的父目录" aria-label="Permalink to “获取当前文件的父目录”">&#8203;</a></h1>
<p>father_path = os.path.abspath(os.path.dirname(cur_path) + os.path.sep + &quot;.&quot;)</p>
<h1 id="将父目录添加到系统路径中" tabindex="-1">将父目录添加到系统路径中 <a class="header-anchor" href="#将父目录添加到系统路径中" aria-label="Permalink to “将父目录添加到系统路径中”">&#8203;</a></h1>
<p>sys.path.append(father_path)</p>
<h1 id="使用opencv检测图片中是否有人物" tabindex="-1">使用opencv检测图片中是否有人物 <a class="header-anchor" href="#使用opencv检测图片中是否有人物" aria-label="Permalink to “使用opencv检测图片中是否有人物”">&#8203;</a></h1>
<p>def detect_person(image_path):<br>
# 读取图片<br>
img = cv2.imread(image_path)<br>
if img is None:<br>
print(f&quot;Error: Unable to load image at {image_path}&quot;)<br>
return  # 或者适当的错误处理<br>
# 转换为灰度图<br>
gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)<br>
# 加载人脸检测器<br>
face_cascade = cv2.CascadeClassifier(cv2.data.haarcascades + 'haarcascade_frontalface_default.xml')<br>
# 检测人脸<br>
# faces = face_cascade.detectMultiScale(gray, 1.3, 5)<br>
faces = face_cascade.detectMultiScale(gray, scaleFactor=1.1, minNeighbors=5)<br>
# 如果检测到人脸，则返回True，否则返回False<br>
if len(faces) &gt; 0:<br>
return True<br>
else:<br>
return False</p>
<h1 id="测试" tabindex="-1">测试 <a class="header-anchor" href="#测试" aria-label="Permalink to “测试”">&#8203;</a></h1>
<p>if <strong>name</strong> == '<strong>main</strong>':<br>
_dir = r&quot;F:\upload\others\ios\img\chat&quot;<br>
pho = r&quot;F:\upload\others\ios\img\photo&quot;<br>
for item in os.listdir(_dir):<br>
t = os.path.join(_dir, item)<br>
if detect_person(t):<br>
_dst = os.path.join(pho, item)<br>
shutil.move(t, _dst)<br>
print(f&quot;{item} 已移动到 {_dst}&quot;)<br>
else:<br>
print(f&quot;{item} 无人脸&quot;)</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::34dxcpnt3wy0twcmenwciv::--><code>
### 解决读取文件编码问题
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>import chardet
def get_file_encode(file_path):
with open(file_path, 'rb') as f:
return chardet.detect(f.read())['encoding']</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::lsuoqxewn7gcemh1qb70f::--><code>
### 随机图
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="https://www.dmoe.cc/" target="_blank" rel="noreferrer">https://www.dmoe.cc/</a>
<a href="https://www.dmoe.cc/random.php" target="_blank" rel="noreferrer">https://www.dmoe.cc/random.php</a>
<a href="https://blog.csdn.net/SectSnow/article/details/115835711" target="_blank" rel="noreferrer">https://blog.csdn.net/SectSnow/article/details/115835711</a></p>
<h1 id="_5217福利社" tabindex="-1">5217福利社 <a class="header-anchor" href="#_5217福利社" aria-label="Permalink to “5217福利社”">&#8203;</a></h1>
<p><a href="https://www.5217fls.com/" target="_blank" rel="noreferrer">https://www.5217fls.com/</a></p>
<h1 id="dubnitskiy-david-professional-photographer" tabindex="-1">Dubnitskiy David - professional photographer <a class="header-anchor" href="#dubnitskiy-david-professional-photographer" aria-label="Permalink to “Dubnitskiy David - professional photographer”">&#8203;</a></h1>
<p><a href="https://35photo.pro/davidfotographer" target="_blank" rel="noreferrer">https://35photo.pro/davidfotographer</a></p>
<h1 id="每日妹子图-–-每天分享好看的小姐姐-高清无水印" tabindex="-1">每日妹子图 – 每天分享好看的小姐姐 高清无水印 <a class="header-anchor" href="#每日妹子图-–-每天分享好看的小姐姐-高清无水印" aria-label="Permalink to “每日妹子图 – 每天分享好看的小姐姐 高清无水印”">&#8203;</a></h1>
<p><a href="https://meizi5.com/" target="_blank" rel="noreferrer">https://meizi5.com/</a></p>
<h1 id="妹子图" tabindex="-1">妹子图 <a class="header-anchor" href="#妹子图" aria-label="Permalink to “妹子图”">&#8203;</a></h1>
<p><a href="https://meizi.in/" target="_blank" rel="noreferrer">https://meizi.in/</a></p>
<h1 id="moonsi-morfin" tabindex="-1">Moonsi Morfin <a class="header-anchor" href="#moonsi-morfin" aria-label="Permalink to “Moonsi Morfin”">&#8203;</a></h1>
<p><a href="https://www.youtube.com/@Moonsidryvswet" target="_blank" rel="noreferrer">https://www.youtube.com/@Moonsidryvswet</a>
YTboob
<a href="https://ytboob.com/" target="_blank" rel="noreferrer">https://ytboob.com/</a></p>
<h1 id="av女優" tabindex="-1">AV女優 <a class="header-anchor" href="#av女優" aria-label="Permalink to “AV女優”">&#8203;</a></h1>
<p><a href="https://av-wiki.net/" target="_blank" rel="noreferrer">https://av-wiki.net/</a></p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::v5do6x6pmfqnoeylnkgt7s::--><code>
### bt种子链接搜索
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><a href="https://anybt.eth.link/#/" target="_blank" rel="noreferrer">https://anybt.eth.link/#/</a>
<a href="https://cilisousuo.com/" target="_blank" rel="noreferrer">https://cilisousuo.com/</a>
<a href="https://ciliku.net/" target="_blank" rel="noreferrer">https://ciliku.net/</a>
<a href="https://tt2.ttcl.cc/" target="_blank" rel="noreferrer">https://tt2.ttcl.cc/</a>
<a href="https://clxf.me/" target="_blank" rel="noreferrer">https://clxf.me/</a></p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::hzmxvldt8cpkjxmmxqp44b::--><code>
### elastic\_kibana看板常用操作
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h1 id="获取全部的index" tabindex="-1">获取全部的index <a class="header-anchor" href="#获取全部的index" aria-label="Permalink to “获取全部的index”">&#8203;</a></h1>
<p>GET _cat/indices?v</p>
<h1 id="统计index" tabindex="-1">统计index <a class="header-anchor" href="#统计index" aria-label="Permalink to “统计index”">&#8203;</a></h1>
<p>GET _cat/count/car_taipingyang_info/?v</p>
<h1 id="查看集群健康状态" tabindex="-1">查看集群健康状态 <a class="header-anchor" href="#查看集群健康状态" aria-label="Permalink to “查看集群健康状态”">&#8203;</a></h1>
<p>GET _cat/health</p>
<h1 id="查看集群健康状态-详细信息" tabindex="-1">查看集群健康状态,详细信息 <a class="header-anchor" href="#查看集群健康状态-详细信息" aria-label="Permalink to “查看集群健康状态,详细信息”">&#8203;</a></h1>
<p>GET _cat/health?v</p>
<h1 id="查看节点信息及详细信息" tabindex="-1">查看节点信息及详细信息 <a class="header-anchor" href="#查看节点信息及详细信息" aria-label="Permalink to “查看节点信息及详细信息”">&#8203;</a></h1>
<p>GET _cat/nodes
GET _cat/nodes?v</p>
<h1 id="查看es的index信息及详细信息" tabindex="-1">查看es的index信息及详细信息 <a class="header-anchor" href="#查看es的index信息及详细信息" aria-label="Permalink to “查看es的index信息及详细信息”">&#8203;</a></h1>
<p>GET _cat/indices
GET _cat/indices?v</p>
<h1 id="创建index及type" tabindex="-1">创建index及type <a class="header-anchor" href="#创建index及type" aria-label="Permalink to “创建index及type”">&#8203;</a></h1>
<p>POST /car_test_info_post/car_deatil
{
&quot;properties&quot; : {
&quot;id&quot; : {&quot;type&quot; : &quot;long&quot;},
&quot;username&quot; : {&quot;type&quot; : &quot;text&quot;},
&quot;password&quot; : {&quot;type&quot; : &quot;text&quot;},
&quot;age&quot; : {&quot;type&quot; : &quot;integer&quot;}
}
}</p>
<h1 id="查询type类型" tabindex="-1">查询type类型 <a class="header-anchor" href="#查询type类型" aria-label="Permalink to “查询type类型”">&#8203;</a></h1>
<p>GET /car_test_info_post/_mapping</p>
<h1 id="在type中添加数据" tabindex="-1">在type中添加数据 <a class="header-anchor" href="#在type中添加数据" aria-label="Permalink to “在type中添加数据”">&#8203;</a></h1>
<p>PUT /car_test_info_post/car_deatil/1
{
&quot;id&quot;: 22,
&quot;username&quot;: &quot;zhangsan&quot;,
&quot;password&quot;: &quot;666&quot;,
&quot;age&quot;: 1
}
POST /car_test_info_post/car_deatil
{</p>
<pre><code>&quot;id&quot; : 220,
&quot;username&quot; :&quot;zhangsan02&quot; ,
&quot;password&quot; : &quot;6669999&quot;,
&quot;age&quot; : 100
</code></pre>
<p>}</p>
<h1 id="查看数据" tabindex="-1">查看数据 <a class="header-anchor" href="#查看数据" aria-label="Permalink to “查看数据”">&#8203;</a></h1>
<p>GET /car_test_info_post/car_taipingyang_info</p>
<h1 id="删除数据" tabindex="-1">删除数据 <a class="header-anchor" href="#删除数据" aria-label="Permalink to “删除数据”">&#8203;</a></h1>
<p>DELETE /car_test_info_post/car_deatil/10</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::psfw77cz7xdmvarsu7sy6::--><code>
### ffmpeg推流直播
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h1 id="安装ffmpeg" tabindex="-1">安装ffmpeg <a class="header-anchor" href="#安装ffmpeg" aria-label="Permalink to “安装ffmpeg”">&#8203;</a></h1>
<h1 id="ubuntu" tabindex="-1">ubuntu <a class="header-anchor" href="#ubuntu" aria-label="Permalink to “ubuntu”">&#8203;</a></h1>
<p>sudo apt update
sudo apt install ffmpeg
ffmpeg -version  # 查看版本 我的是4.x
centos
yum -y install wget
wget --no-check-certificate <a href="https://www.johnvansickle.com/ffmpeg/old-releases/ffmpeg-4.0.3-64bit-static.tar.xz" target="_blank" rel="noreferrer">https://www.johnvansickle.com/ffmpeg/old-releases/ffmpeg-4.0.3-64bit-static.tar.xz</a>
tar -xJf ffmpeg-4.0.3-64bit-static.tar.xz
cd ffmpeg-4.0.3-64bit-static
mv ffmpeg /usr/bin &amp;&amp; mv ffprobe /usr/bin &amp;&amp; mv qt-faststart /usr/bin &amp;&amp; mv ffmpeg-10bit /usr/bin
windows
下载ffmpeg构建好的文件
<a href="https://github.com/BtbN/FFmpeg-Builds/releases" target="_blank" rel="noreferrer">https://github.com/BtbN/FFmpeg-Builds/releases</a>
添加环境变量路径 ffmpeg/bin</p>
<h1 id="b站" tabindex="-1">B站 <a class="header-anchor" href="#b站" aria-label="Permalink to “B站”">&#8203;</a></h1>
<p>1.登录
2.个人中心
3.我的直播
4.我的直播间
5.选择直播分类
6.点击开始直播
7.复制服务器地址 rtmp://live-push.bilivideo.com/live-bvc/
8.复制串流密钥 ?streamname=xxx
9.组成一个链接之后要用 rtmp://live-push.bilivideo.com/live-bvc/?streamname=xxx</p>
<h1 id="开始推流" tabindex="-1">开始推流 <a class="header-anchor" href="#开始推流" aria-label="Permalink to “开始推流”">&#8203;</a></h1>
<p>找到一个视频文件随便命名(尽量几个字母)我的是demo.mp4
通过ffmpeg推流示例
ffmpeg -re -stream_loop -1 -i &quot;./demo.mp4&quot; -c copy -f flv &quot;rtmp://live-push.bilivideo.com/live-bvc/?streamname=xxx&quot;</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::ftqa4cyifflbvvy2pel2::--><code>
### matplotlib无法显示中文解决办法
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>import os</p>
<h1 id="import-matplotlib-pyplot-as-plt" tabindex="-1">import matplotlib.pyplot as plt <a class="header-anchor" href="#import-matplotlib-pyplot-as-plt" aria-label="Permalink to “import matplotlib.pyplot as plt”">&#8203;</a></h1>
<p>from matplotlib import pyplot as plt
import matplotlib as mpl
from matplotlib.font_manager import FontProperties
#from pylab import mpl</p>
<p>#mpl.rcParams[u'font.sans-serif'] =  ['simabs']  # 指定默认字体
#mpl.rcParams['axes.unicode_minus'] = False  # 解决保存图像是负号'-'显示为方块的问题
font=FontProperties(fname=r'/data/env_env/python/lib/python3.8/site-packages/matplotlib/mpl-data/fonts/ttf/simabs.ttf')
def create_image(save_path, text):
fig = plt.figure(figsize=(10, 1.25))
fig.text(0.5, 0.5, u'{}'.format(text),
horizontalalignment='center', verticalalignment='center', fontsize=15,fontproperties=font)
plt.savefig(save_path)
plt.close()</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::0tzfltem65gpm7dnacd8qd::--><code>
### mysql主从同步集群
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h1 id="主服务器配置" tabindex="-1">主服务器配置 <a class="header-anchor" href="#主服务器配置" aria-label="Permalink to “主服务器配置”">&#8203;</a></h1>
<h2 id="_1-创建并启动mysql主服务器" tabindex="-1">1.创建并启动mysql主服务器 <a class="header-anchor" href="#_1-创建并启动mysql主服务器" aria-label="Permalink to “1.创建并启动mysql主服务器”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::ctbtaegptmpq0o31zyku6e::--><code>docker run -d -p 3306:3306 -v /home/yuluo/shardingsphere-env/master/conf:/etc/mysql/conf.d -v /home/yuluo/shardingsphere-env/master/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name yuluo-mysql-master mysql:8.0.29
eg:
docker run -d -p 3306:3306 -v F:\db\mysql\conf:/etc/mysql/conf.d -v F:\db\mysql\data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql-master mysql:8.0.29</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_2-创建mysql主服务器配置文件" tabindex="-1">2.创建mysql主服务器配置文件 <a class="header-anchor" href="#_2-创建mysql主服务器配置文件" aria-label="Permalink to “2.创建mysql主服务器配置文件”">&#8203;</a></h2>
<p>my.cnf</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::hiovtmxfc4tx1l4w1trsd::--><code>[mysqld]
# 服务器唯一id，默认值1
server-id=1
# 设置日志格式，默认值ROW
binlog_format=STATEMENT
# 二进制日志名，默认binlog
# log-bin=binlog
# 设置需要复制的数据库，默认复制全部数据库
#binlog-do-db=mytestdb
# 设置不需要复制的数据库
#binlog-ignore-db=mysql
#binlog-ignore-db=infomation_schema</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h2 id="_3-测试连接" tabindex="-1">3.测试连接 <a class="header-anchor" href="#_3-测试连接" aria-label="Permalink to “3.测试连接”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::qpok5hbweq4k13glselrm::--><code>#进入容器：env LANG=C.UTF-8 避免容器中显示中文乱码
docker exec -it mysql-master env LANG=C.UTF-8 /bin/bash
#进入容器内的mysql命令行
mysql -uroot -p123456
#修改默认密码校验方式
ALTER USER &#039;root&#039;@&#039;%&#039; IDENTIFIED WITH mysql_native_password BY &#039;123456&#039;;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_4-主节点创建slave用户" tabindex="-1">4.主节点创建slave用户 <a class="header-anchor" href="#_4-主节点创建slave用户" aria-label="Permalink to “4.主节点创建slave用户”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::vqpi85icpvam3mm2c2kesb::--><code>create user &#039;lds_slave&#039;@&#039;%&#039;;
# 设置密码
alter user &#039;lds_slave&#039;@&#039;%&#039; identified with mysql_native_password by &#039;123456&#039;;
# 授予复制权限
grant replication slave on *.* to &#039;lds_slave&#039;@&#039;%&#039;;
# 刷新权限
flush privileges;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_5-在主机中查询master的状态" tabindex="-1">5.在主机中查询master的状态 <a class="header-anchor" href="#_5-在主机中查询master的状态" aria-label="Permalink to “5.在主机中查询master的状态”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::7t2piik1uu8v5txi7psutb::--><code>记录File和Position的值
 File          | Position | Binlog_Do_DB | Binlog_Ignore_DB | Executed_Gtid_Set |
+---------------+----------+--------------+------------------+-------------------+
| binlog.000002 |     1345 |              |                  |                   |
+---------------+----------+--------------+------------------+-------------------+</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h1 id="从服务器配置" tabindex="-1">从服务器配置 <a class="header-anchor" href="#从服务器配置" aria-label="Permalink to “从服务器配置”">&#8203;</a></h1>
<h2 id="_1-启动从服务器" tabindex="-1">1.启动从服务器 <a class="header-anchor" href="#_1-启动从服务器" aria-label="Permalink to “1.启动从服务器”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::eww1hjr2lbjyidooadrv8f::--><code>docker run -d -p 3306:3306 -v /home/yuluo/shardingsphere-env/master/conf:/etc/mysql/conf.d -v /home/yuluo/shardingsphere-env/master/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name yuluo-mysql-master mysql:8.0.29
eg:
docker run -d -p 3307:3306 -v F:\db\mysql_slave\conf:/etc/mysql/conf.d -v F:\db\mysql_slave\data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql-slave1 mysql:8.0.29</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_2-从服务器配置" tabindex="-1">2.从服务器配置 <a class="header-anchor" href="#_2-从服务器配置" aria-label="Permalink to “2.从服务器配置”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::9r0t2imeh958ltlvpo8qk::--><code>[mysqld]
# 服务器唯一id，每台服务器的id必须不同，如果配置其他从机，注意修改id
server-id=2
# 中继日志名，默认xxxxxxxxxxxx-relay-bin
#relay-log=relay-bin</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_3-测试连接-1" tabindex="-1">3.测试连接 <a class="header-anchor" href="#_3-测试连接-1" aria-label="Permalink to “3.测试连接”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::rf306b359qkd6520cupbkh::--><code>#进入容器：env LANG=C.UTF-8 避免容器中显示中文乱码
docker exec -it mysql-slave1 env LANG=C.UTF-8 /bin/bash
#进入容器内的mysql命令行
mysql -uroot -p123456
#修改默认密码校验方式
ALTER USER &#039;root&#039;@&#039;%&#039; IDENTIFIED WITH mysql_native_password BY &#039;123456&#039;;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="_4-在从机中配置主从关系" tabindex="-1">4.在从机中配置主从关系 <a class="header-anchor" href="#_4-在从机中配置主从关系" aria-label="Permalink to “4.在从机中配置主从关系”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::mp2mscqvngor5u0z56mkr::--><code>change master to master_host=&#039;192.168.28.23&#039;,master_user=&#039;lds_slave&#039;,master_password=&#039;123456&#039;,master_port=3306,master_log_file=&#039;binlog.000002&#039;,master_log_pos=1345;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_5-启动从机的复制功能" tabindex="-1">5.启动从机的复制功能 <a class="header-anchor" href="#_5-启动从机的复制功能" aria-label="Permalink to “5.启动从机的复制功能”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::lynd409olvv9sl3vqklof::--><code>start slave
# 查看状态(不需要分号)
show slave status\G
slave_io_running

下边两个都是Yes搭建成功
Slave_IO_Running: Yes
Slave_SQL_Running: Yes</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h1 id="从服务器配置2" tabindex="-1">从服务器配置2 <a class="header-anchor" href="#从服务器配置2" aria-label="Permalink to “从服务器配置2”">&#8203;</a></h1>
<h2 id="_1-创建并启动从服务器2" tabindex="-1">1.创建并启动从服务器2 <a class="header-anchor" href="#_1-创建并启动从服务器2" aria-label="Permalink to “1.创建并启动从服务器2”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::380fn6z3ai6otia5rq1ran::--><code>docker run -d -p 3306:3306 -v /home/yuluo/shardingsphere-env/master/conf:/etc/mysql/conf.d -v /home/yuluo/shardingsphere-env/master/data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name yuluo-mysql-master mysql:8.0.29
eg:
docker run -d -p 3308:3306 -v F:\db\mysql_slave2\conf:/etc/mysql/conf.d -v F:\db\mysql_slave2\data:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 --name mysql-slave2 mysql:8.0.29</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_2-配置文件" tabindex="-1">2.配置文件 <a class="header-anchor" href="#_2-配置文件" aria-label="Permalink to “2.配置文件”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::rbmzovyrzm47pmnd14m8g::--><code>[mysqld]
# 服务器唯一id，每台服务器的id必须不同，如果配置其他从机，注意修改id
server-id=3
# 中继日志名，默认xxxxxxxxxxxx-relay-bin
#relay-log=relay-bin</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_3-配置主从关系" tabindex="-1">3.配置主从关系 <a class="header-anchor" href="#_3-配置主从关系" aria-label="Permalink to “3.配置主从关系”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::g8ier8c46mvmo4fhoy2nc::--><code>change master to master_host=&#039;192.168.28.23&#039;,master_user=&#039;lds_slave&#039;,master_password=&#039;123456&#039;,master_port=3306,master_log_file=&#039;binlog.000002&#039;,master_log_pos=1345;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_4-启动从机的复制功能" tabindex="-1">4.启动从机的复制功能 <a class="header-anchor" href="#_4-启动从机的复制功能" aria-label="Permalink to “4.启动从机的复制功能”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::tqip24rh9p0cxpy4yx0pwh::--><code>start slave
# 查看状态(不需要分号)
show slave status\G
slave_io_running

下边两个都是Yes搭建成功
Slave_IO_Running: Yes
Slave_SQL_Running: Yes</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h2 id="_5-同步测试" tabindex="-1">5.同步测试 <a class="header-anchor" href="#_5-同步测试" aria-label="Permalink to “5.同步测试”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::2qyaldiduvuruyrfj1ae6a::--><code>master中
CREATE DATABASE db_user;

USE db_user;

CREATE TABLE t_user (
 id BIGINT AUTO_INCREMENT,
 uname VARCHAR(30),
 PRIMARY KEY (id)
);

INSERT INTO t_user(uname) VALUES(&#039;zhang3&#039;);
INSERT INTO t_user(uname) VALUES(@@hostname);
# 在从机中查看</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h1 id="停止和重置" tabindex="-1">停止和重置 <a class="header-anchor" href="#停止和重置" aria-label="Permalink to “停止和重置”">&#8203;</a></h1>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::r8m1055ihifruxprsq3dn::--><code>-- 在从机上执行。功能说明：停止I/O 线程和SQL线程的操作。
stop slave; 

-- 在从机上执行。功能说明：用于删除SLAVE数据库的relaylog日志文件，并重新启用新的relaylog文件。
reset slave;

-- 在主机上执行。功能说明：删除所有的binglog日志文件，并将日志索引文件清空，重新开始所有新的日志文件。
-- 用于第一次进行搭建主从库时，进行主库binlog初始化工作；
reset master;</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h1 id="常见问题错误解决" tabindex="-1">常见问题错误解决 <a class="header-anchor" href="#常见问题错误解决" aria-label="Permalink to “常见问题错误解决”">&#8203;</a></h1>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::bcqsxw8ptqp4pd26dl1p::--><code>-- 在从机停止slave
stop slave; 

-- 在主机查看mater状态
SHOW MASTER STATUS;
-- 在主机刷新日志
FLUSH LOGS;
-- 再次在主机查看mater状态（会发现File和Position发生了变化）
SHOW MASTER STATUS;
-- 修改从机连接主机的SQL，并重新连接即可

-- 查看server_id 
show variables like &#039;server_id&#039;;

-- 如果为1 查看配置文件是否映射进去

重启容器问题解决
启动docker容器后提示 WARNING: IPv4 forwarding is disabled. Networking will not work.
C:\Users\administrator&gt;mysql -h 192.168.100.201 -P 3306 -u root -p
#修改配置文件：
vim /usr/lib/sysctl.d/00-system.conf
#追加
net.ipv4.ip_forward=1
#接着重启网络
systemctl restart network</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::l3ufz8edjiqm01ew2bctf::--><code>
### ppt\_to\_pdf
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-python line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre><!--::markdown-it-async::nyhjg3mu1f8j0drx44dc7::--><code>import win32com.client
import os
def ppt2pdf(filename, output_filename):
    &quot;&quot;&quot;
    PPT文件导出为pdf格式
    :param filename: PPT文件的名称
    :param output_filename: 导出的pdf文件的名称
    :return:
    &quot;&quot;&quot;
    ppt_app = win32com.client.Dispatch(&#039;PowerPoint.Application&#039;)
    # ppt_app.Visible = True  # 程序操作应用程序的过程是否可视化
    ppt = ppt_app.Presentations.Open(filename)
    # 17数字是ppt转图片，32数字是ppt转pdf
    ppt.SaveAs(output_filename, 32)
    print(&quot;导出成pdf格式成功!!!&quot;)
    # 退出PPT程序
    ppt_app.Quit()


# 要处理的目录名称
dirname = r&#039;&#039;
filenames = os.listdir(dirname)
for filename in filenames:
    if filename.endswith(&#039;ppt&#039;) or filename.endswith(&#039;pptx&#039;):
        base, ext = filename.split(&#039;.&#039;)
        new_name = base + &#039;.pdf&#039;
        filename =os.path.join(dirname,filename)
        output_filename =os.path.join(dirname,new_name)
        ppt2pdf(filename, output_filename)</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::hwahud536qr7sv6b7rp6s3::--><code>
### ffmpeg转换音频文件
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h1 id="m4a文件转为16bit-单声道-采样率为48khz" tabindex="-1">m4a文件转为16bit,单声道,采样率为48kHz <a class="header-anchor" href="#m4a文件转为16bit-单声道-采样率为48khz" aria-label="Permalink to “m4a文件转为16bit,单声道,采样率为48kHz”">&#8203;</a></h1>
<p>for i in *.m4a; do ffmpeg -i &quot;<mjx-container v-pre class="MathJax" jax="SVG" style="direction: ltr; position: relative;"><svg style="overflow: visible; min-height: 1px; min-width: 1px; vertical-align: -0.439ex;" xmlns="http://www.w3.org/2000/svg" width="38.265ex" height="2.009ex" role="img" focusable="false" viewBox="0 -694 16913 888" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="scale(1,-1)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="1D456" d="M184 600Q184 624 203 642T247 661Q265 661 277 649T290 619Q290 596 270 577T226 557Q211 557 198 567T184 600ZM21 287Q21 295 30 318T54 369T98 420T158 442Q197 442 223 419T250 357Q250 340 236 301T196 196T154 83Q149 61 149 51Q149 26 166 26Q175 26 185 29T208 43T235 78T260 137Q263 149 265 151T282 153Q302 153 302 143Q302 135 293 112T268 61T223 11T161 -11Q129 -11 102 10T74 74Q74 91 79 106T122 220Q160 321 166 341T173 380Q173 404 156 404H154Q124 404 99 371T61 287Q60 286 59 284T58 281T56 279T53 278T49 278T41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(345,0)"><g data-mml-node="mo"><g data-c="2033"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width: 3;"/><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" transform="translate(275,0)" style="stroke-width: 3;"/></g></g></g><g data-mml-node="mo" transform="translate(1117.2,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(2117.4,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(2646.4,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(3079.4,0)"><path data-c="1D45C" d="M201 -11Q126 -11 80 38T34 156Q34 221 64 279T146 380Q222 441 301 441Q333 441 341 440Q354 437 367 433T402 417T438 387T464 338T476 268Q476 161 390 75T201 -11ZM121 120Q121 70 147 48T206 26Q250 26 289 58T351 142Q360 163 374 216T388 308Q388 352 370 375Q346 405 306 405Q243 405 195 347Q158 303 140 230T121 120Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(3564.4,0)"><path data-c="1D451" d="M366 683Q367 683 438 688T511 694Q523 694 523 686Q523 679 450 384T375 83T374 68Q374 26 402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487H491Q506 153 506 145Q506 140 503 129Q490 79 473 48T445 8T417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157Q33 205 53 255T101 341Q148 398 195 420T280 442Q336 442 364 400Q369 394 369 396Q370 400 396 505T424 616Q424 629 417 632T378 637H357Q351 643 351 645T353 664Q358 683 366 683ZM352 326Q329 405 277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q233 26 290 98L298 109L352 326Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(4084.4,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(4550.4,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(4983.4,0)"><path data-c="1D45D" d="M23 287Q24 290 25 295T30 317T40 348T55 381T75 411T101 433T134 442Q209 442 230 378L240 387Q302 442 358 442Q423 442 460 395T497 281Q497 173 421 82T249 -10Q227 -10 210 -4Q199 1 187 11T168 28L161 36Q160 35 139 -51T118 -138Q118 -144 126 -145T163 -148H188Q194 -155 194 -157T191 -175Q188 -187 185 -190T172 -194Q170 -194 161 -194T127 -193T65 -192Q-5 -192 -24 -194H-32Q-39 -187 -39 -183Q-37 -156 -26 -148H-6Q28 -147 33 -136Q36 -130 94 103T155 350Q156 355 156 364Q156 405 131 405Q109 405 94 377T71 316T59 280Q57 278 43 278H29Q23 284 23 287ZM178 102Q200 26 252 26Q282 26 310 49T356 107Q374 141 392 215T411 325V331Q411 405 350 405Q339 405 328 402T306 393T286 380T269 365T254 350T243 336T235 326L232 322Q232 321 229 308T218 264T204 212Q178 106 178 102Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(5486.4,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" style="stroke-width: 3;"/></g><g data-mml-node="msub" transform="translate(5919.4,0)"><g data-mml-node="mi"><path data-c="1D45A" d="M21 287Q22 293 24 303T36 341T56 388T88 425T132 442T175 435T205 417T221 395T229 376L231 369Q231 367 232 367L243 378Q303 442 384 442Q401 442 415 440T441 433T460 423T475 411T485 398T493 385T497 373T500 364T502 357L510 367Q573 442 659 442Q713 442 746 415T780 336Q780 285 742 178T704 50Q705 36 709 31T724 26Q752 26 776 56T815 138Q818 149 821 151T837 153Q857 153 857 145Q857 144 853 130Q845 101 831 73T785 17T716 -10Q669 -10 648 17T627 73Q627 92 663 193T700 345Q700 404 656 404H651Q565 404 506 303L499 291L466 157Q433 26 428 16Q415 -11 385 -11Q372 -11 364 -4T353 8T350 18Q350 29 384 161L420 307Q423 322 423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 181Q151 335 151 342Q154 357 154 369Q154 405 129 405Q107 405 92 377T69 316T57 280Q55 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(911,-150) scale(0.707)"><path data-c="1D460" d="M131 289Q131 321 147 354T203 415T300 442Q362 442 390 415T419 355Q419 323 402 308T364 292Q351 292 340 300T328 326Q328 342 337 354T354 372T367 378Q368 378 368 379Q368 382 361 388T336 399T297 405Q249 405 227 379T204 326Q204 301 223 291T278 274T330 259Q396 230 396 163Q396 135 385 107T352 51T289 7T195 -10Q118 -10 86 19T53 87Q53 126 74 143T118 160Q133 160 146 151T160 120Q160 94 142 76T111 58Q109 57 108 57T107 55Q108 52 115 47T146 34T201 27Q237 27 263 38T301 66T318 97T323 122Q323 150 302 164T254 181T195 196T148 231Q131 256 131 289Z" style="stroke-width: 3;"/></g></g><g data-mml-node="mn" transform="translate(7212.1,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width: 3;"/><path data-c="36" d="M42 313Q42 476 123 571T303 666Q372 666 402 630T432 550Q432 525 418 510T379 495Q356 495 341 509T326 548Q326 592 373 601Q351 623 311 626Q240 626 194 566Q147 500 147 364L148 360Q153 366 156 373Q197 433 263 433H267Q313 433 348 414Q372 400 396 374T435 317Q456 268 456 210V192Q456 169 451 149Q440 90 387 34T253 -22Q225 -22 199 -14T143 16T92 75T56 172T42 313ZM257 397Q227 397 205 380T171 335T154 278T148 216Q148 133 160 97T198 39Q222 21 251 21Q302 21 329 59Q342 77 347 104T352 209Q352 289 347 316T329 361Q302 397 257 397Z" transform="translate(500,0)" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(8212.1,0)"><path data-c="1D459" d="M117 59Q117 26 142 26Q179 26 205 131Q211 151 215 152Q217 153 225 153H229Q238 153 241 153T246 151T248 144Q247 138 245 128T234 90T214 43T183 6T137 -11Q101 -11 70 11T38 85Q38 97 39 102L104 360Q167 615 167 623Q167 626 166 628T162 632T157 634T149 635T141 636T132 637T122 637Q112 637 109 637T101 638T95 641T94 647Q94 649 96 661Q101 680 107 682T179 688Q194 689 213 690T243 693T254 694Q266 694 266 686Q266 675 193 386T118 83Q118 81 118 75T117 65V59Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(8510.1,0)"><path data-c="1D452" d="M39 168Q39 225 58 272T107 350T174 402T244 433T307 442H310Q355 442 388 420T421 355Q421 265 310 237Q261 224 176 223Q139 223 138 221Q138 219 132 186T125 128Q125 81 146 54T209 26T302 45T394 111Q403 121 406 121Q410 121 419 112T429 98T420 82T390 55T344 24T281 -1T205 -11Q126 -11 83 42T39 168ZM373 353Q367 405 305 405Q272 405 244 391T199 357T170 316T154 280T149 261Q149 260 169 260Q282 260 327 284T373 353Z" style="stroke-width: 3;"/></g><g data-mml-node="mo" transform="translate(9198.3,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(10198.5,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(10727.5,0)"><path data-c="1D450" d="M34 159Q34 268 120 355T306 442Q362 442 394 418T427 355Q427 326 408 306T360 285Q341 285 330 295T319 325T330 359T352 380T366 386H367Q367 388 361 392T340 400T306 404Q276 404 249 390Q228 381 206 359Q162 315 142 235T121 119Q121 73 147 50Q169 26 205 26H209Q321 26 394 111Q403 121 406 121Q410 121 419 112T429 98T420 83T391 55T346 25T282 0T202 -11Q127 -11 81 37T34 159Z" style="stroke-width: 3;"/></g><g data-mml-node="mn" transform="translate(11160.5,0)"><path data-c="31" d="M213 578L200 573Q186 568 160 563T102 556H83V602H102Q149 604 189 617T245 641T273 663Q275 666 285 666Q294 666 302 660V361L303 61Q310 54 315 52T339 48T401 46H427V0H416Q395 3 257 3Q121 3 100 0H88V46H114Q136 46 152 46T177 47T193 50T201 52T207 57T213 61V578Z" style="stroke-width: 3;"/></g><g data-mml-node="mo" transform="translate(11882.7,0)"><path data-c="2212" d="M84 237T84 250T98 270H679Q694 262 694 250T679 230H98Q84 237 84 250Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(12883,0)"><path data-c="1D44E" d="M33 157Q33 258 109 349T280 441Q331 441 370 392Q386 422 416 422Q429 422 439 414T449 394Q449 381 412 234T374 68Q374 43 381 35T402 26Q411 27 422 35Q443 55 463 131Q469 151 473 152Q475 153 483 153H487Q506 153 506 144Q506 138 501 117T481 63T449 13Q436 0 417 -8Q409 -10 393 -10Q359 -10 336 5T306 36L300 51Q299 52 296 50Q294 48 292 46Q233 -10 172 -10Q117 -10 75 30T33 157ZM351 328Q351 334 346 350T323 385T277 405Q242 405 210 374T160 293Q131 214 119 129Q119 126 119 118T118 106Q118 61 136 44T179 26Q217 26 254 59T298 110Q300 114 325 217T351 328Z" style="stroke-width: 3;"/></g><g data-mml-node="mi" transform="translate(13412,0)"><path data-c="1D45F" d="M21 287Q22 290 23 295T28 317T38 348T53 381T73 411T99 433T132 442Q161 442 183 430T214 408T225 388Q227 382 228 382T236 389Q284 441 347 441H350Q398 441 422 400Q430 381 430 363Q430 333 417 315T391 292T366 288Q346 288 334 299T322 328Q322 376 378 392Q356 405 342 405Q286 405 239 331Q229 315 224 298T190 165Q156 25 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 114 189T154 366Q154 405 128 405Q107 405 92 377T68 316T57 280Q55 278 41 278H27Q21 284 21 287Z" style="stroke-width: 3;"/></g><g data-mml-node="mn" transform="translate(13863,0)"><path data-c="34" d="M462 0Q444 3 333 3Q217 3 199 0H190V46H221Q241 46 248 46T265 48T279 53T286 61Q287 63 287 115V165H28V211L179 442Q332 674 334 675Q336 677 355 677H373L379 671V211H471V165H379V114Q379 73 379 66T385 54Q393 47 442 46H471V0H462ZM293 211V545L74 212L183 211H293Z" style="stroke-width: 3;"/><path data-c="38" d="M70 417T70 494T124 618T248 666Q319 666 374 624T429 515Q429 485 418 459T392 417T361 389T335 371T324 363L338 354Q352 344 366 334T382 323Q457 264 457 174Q457 95 399 37T249 -22Q159 -22 101 29T43 155Q43 263 172 335L154 348Q133 361 127 368Q70 417 70 494ZM286 386L292 390Q298 394 301 396T311 403T323 413T334 425T345 438T355 454T364 471T369 491T371 513Q371 556 342 586T275 624Q268 625 242 625Q201 625 165 599T128 534Q128 511 141 492T167 463T217 431Q224 426 228 424L286 386ZM250 21Q308 21 350 55T392 137Q392 154 387 169T375 194T353 216T330 234T301 253T274 270Q260 279 244 289T218 306L210 311Q204 311 181 294T133 239T107 157Q107 98 150 60T250 21Z" transform="translate(500,0)" style="stroke-width: 3;"/><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(1000,0)" style="stroke-width: 3;"/><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(1500,0)" style="stroke-width: 3;"/><path data-c="30" d="M96 585Q152 666 249 666Q297 666 345 640T423 548Q460 465 460 320Q460 165 417 83Q397 41 362 16T301 -15T250 -22Q224 -22 198 -16T137 16T82 83Q39 165 39 320Q39 494 96 585ZM321 597Q291 629 250 629Q208 629 178 597Q153 571 145 525T137 333Q137 175 145 125T181 46Q209 16 250 16Q290 16 318 46Q347 76 354 130T362 333Q362 478 354 524T321 597Z" transform="translate(2000,0)" style="stroke-width: 3;"/></g><g data-mml-node="TeXAtom" data-mjx-texclass="ORD" transform="translate(16363,0)"><g data-mml-node="mo"><g data-c="2033"><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" style="stroke-width: 3;"/><path data-c="2032" d="M79 43Q73 43 52 49T30 61Q30 68 85 293T146 528Q161 560 198 560Q218 560 240 545T262 501Q262 496 260 486Q259 479 173 263T84 45T79 43Z" transform="translate(275,0)" style="stroke-width: 3;"/></g></g></g></g></g></svg><mjx-assistive-mml unselectable="on" display="inline" style="top: 0px; left: 0px; clip: rect(1px, 1px, 1px, 1px); -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; position: absolute; padding: 1px 0px 0px 0px; border: 0px; display: block; width: auto; overflow: hidden;"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>i</mi><mrow data-mjx-texclass="ORD"><mo data-mjx-pseudoscript="true">"</mo></mrow><mo>−</mo><mi>a</mi><mi>c</mi><mi>o</mi><mi>d</mi><mi>e</mi><mi>c</mi><mi>p</mi><mi>c</mi><msub><mi>m</mi><mi>s</mi></msub><mn>16</mn><mi>l</mi><mi>e</mi><mo>−</mo><mi>a</mi><mi>c</mi><mn>1</mn><mo>−</mo><mi>a</mi><mi>r</mi><mn>48000</mn><mrow data-mjx-texclass="ORD"><mo data-mjx-pseudoscript="true">"</mo></mrow></math></mjx-assistive-mml></mjx-container>{i%}.wav&quot;; done
-acodec pcm_s16le:16bit
-ac 1:单声道
-ar 48000:48kHZ</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::5rhz6lkp6wsng1v4ah3uih::--><code>
### 多张图片合成
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>import cv2 as cv
import numpy as np</p>
<h1 id="读入图片" tabindex="-1">读入图片 <a class="header-anchor" href="#读入图片" aria-label="Permalink to “读入图片”">&#8203;</a></h1>
<p>src = cv.imread('test.jpg')</p>
<h1 id="调用cv-puttext-添加文字" tabindex="-1">调用cv.putText()添加文字 <a class="header-anchor" href="#调用cv-puttext-添加文字" aria-label="Permalink to “调用cv.putText()添加文字”">&#8203;</a></h1>
<p>text = &quot;Your are so beautiful!&quot;
AddText = src.copy()
cv.putText(AddText, text, (200, 100), cv.FONT_HERSHEY_COMPLEX, 2.0, (100, 200, 200), 5)</p>
<h1 id="将原图片和添加文字后的图片拼接起来" tabindex="-1">将原图片和添加文字后的图片拼接起来 <a class="header-anchor" href="#将原图片和添加文字后的图片拼接起来" aria-label="Permalink to “将原图片和添加文字后的图片拼接起来”">&#8203;</a></h1>
<p>res = np.hstack([src, AddText])</p>
<h1 id="显示拼接后的图片" tabindex="-1">显示拼接后的图片 <a class="header-anchor" href="#显示拼接后的图片" aria-label="Permalink to “显示拼接后的图片”">&#8203;</a></h1>
<p>cv.imshow('text', res)
cv.waitKey()
cv.destroyAllWindows()</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::4dpw98b512tbyo5wq9wh15::--><code>
### docker容器自动重启
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="容器未创建时" tabindex="-1">容器未创建时 <a class="header-anchor" href="#容器未创建时" aria-label="Permalink to “容器未创建时”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::f6h17zd5k2p7qnmxeo1y8t::--><code>docker run -d --restart=always --name 设置容器名 使用的镜像
--restart具体参数值详细信息：
    no　　　　　　　 // 默认策略,容器退出时不重启容器；
    on-failure　　  // 在容器非正常退出时（退出状态非0）才重新启动容器；
    on-failure:3    // 在容器非正常退出时重启容器，最多重启3次；
    always　　　　  // 无论退出状态是如何，都重启容器；
    unless-stopped  // 在容器退出时总是重启容器，但是不考虑在 Docker 守护进程启动时就已经停止了的容器。</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="容器已经创建" tabindex="-1">容器已经创建 <a class="header-anchor" href="#容器已经创建" aria-label="Permalink to “容器已经创建”">&#8203;</a></h2>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::j2v8sa79uqf1q0f7zx4f::--><code>docker update --restart=always 容器ID(或者容器名)</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::rc6snikhjv7ehx2jhtnoq::--><code>
### multipass构建一个新系统
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>multipass launch jammy --name acc --cpus 2 --disk 40G --memory 4G</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::s2nxyfljkesmdnixio7pr::--><code>
### flask实现api接口
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>from flask import Flask, jsonify, request<br>
from loguru import logger</p>
<p>app = Flask(<strong>name</strong>)</p>
<h1 id="这里写识别图片的逻辑" tabindex="-1">这里写识别图片的逻辑 <a class="header-anchor" href="#这里写识别图片的逻辑" aria-label="Permalink to “这里写识别图片的逻辑”">&#8203;</a></h1>
<p>def ocr_image(image):<br>
logger.info({&quot;status&quot;: &quot;识别图片&quot;})<br>
return &quot;识别成功的结果&quot;</p>
<h1 id="上传图片" tabindex="-1">上传图片 <a class="header-anchor" href="#上传图片" aria-label="Permalink to “上传图片”">&#8203;</a></h1>
<p>@app.route('/upload', methods=['POST'])<br>
def upload():<br>
if request.method == 'POST':<br>
f = request.files['file']<br>
f.save(f.filename)<br>
try:<br>
result = ocr_image(f.filename)<br>
return jsonify({'code': 200, 'msg': '识别成功', 'data': result})<br>
except Exception as e:<br>
logger.error(e)<br>
return jsonify({'code': 500, 'msg': '识别失败', 'data': str(e)})<br>
else:<br>
return jsonify({'code': 400, 'msg': '请求方式错误'})</p>
<p>if <strong>name</strong> == '<strong>main</strong>':<br>
app.run(host='0.0.0.0', port=8080, debug=True)</p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::jtezdx482q85gmlej1xc::--><code>
### to watch
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul>
<li>《地球脉动2》 9.9分</li>
<li>《肖申克的救赎》 9.6分</li>
<li>《控方证人》 9.6分</li>
<li>《天才：总决赛》 9.6分</li>
<li>《玛莎和熊》 9.6分</li>
<li>《宇宙时空之旅》 9.6分</li>
<li>《我们的父辈》 9.6分</li>
<li>《霸王别姬》 9.6分</li>
<li>《宾波的魔桶》 9.5分</li>
<li>《里赫特：谜》 9.5分</li>
<li>《美丽人生》 9.5分</li>
<li>《百乐门现场》 9.5分</li>
<li>《可爱的动物》 9.5分</li>
<li>《辛德勒的名单》 9.5分</li>
<li>《Eminem：E》 9.4分</li>
<li>《王者之路》 9.4分</li>
<li>《这个杀手不太冷》 9.4分</li>
<li>《阿甘正传》 9.4分</li>
<li>《被遗的时光》 9.4分</li>
<li>《野鸟世界》 9.4分</li>
<li>《谍影熊心》 9.4分</li>
<li>《牡丹亭》 9.4分</li>
<li>《天鹅湖》 9.4分</li>
<li>《机器人总动员》 9.3分</li>
<li>《长板女孩》 9.3分</li>
<li>《十二怒汉》 9.3分</li>
<li>《海豚湾》 9.3分</li>
<li>《灿烂人生》 9.3分</li>
<li>《美丽中国》 9.3分</li>
<li>《盗梦空间》 9.3分</li>
<li>《千与千寻》 9.3分</li>
<li>《泰坦尼克号》 9.3分</li>
<li>《忠犬八公的故事》 9.3分</li>
<li>《熔炉》 9.3分</li>
<li>《洞》 9.2分</li>
<li>《摩登时代》 9.2分</li>
<li>《东京物语》 9.2分</li>
<li>《忠犬八公的故事》 9.2分</li>
<li>《城市之光》 9.2分</li>
<li>《海上钢琴师》 9.2分</li>
<li>《放牛班的春天》 9.2分</li>
<li>《疯狂动物城》 9.2分</li>
<li>《萨勒姆的女巫》 9.2分</li>
<li>《小鞋子》 9.2分</li>
<li>《大闹天宫》 9.2分</li>
<li>《生活多美好》 9.2分</li>
<li>《切腹》 9.2分</li>
<li>《教父1》 9.2分</li>
<li>《乱世佳人》 9.2分</li>
<li>《三傻大闹宝莱坞》 9.2分</li>
<li>《大话西游之大圣娶亲》 9.2分</li>
<li>《星际穿越》 9.2分</li>
<li>《首次登顶》 9.2分</li>
<li>《触不可及》 9.2分</li>
<li>《鬼子来了》 9.2分</li>
<li>《素媛》 9.1分</li>
<li>《大话西游》 9.1分</li>
<li>《天堂回信》 9.1分</li>
<li>《龙猫》 9.1分</li>
<li>《我的父亲，我的儿子》 9.1分</li>
<li>《鳄鱼波鞋走天涯》 9.1分</li>
<li>《天堂电影院》 9.1分</li>
<li>《迁徙的鸟》 9.1分</li>
<li>《黄金三镖客》 91分</li>
<li>《辩护人》 9.1分</li>
<li>《窃听风暴》 9.1分</li>
<li>《教父2》 9.1分</li>
<li>《美国往事》 9.1分</li>
<li>《摔跤吧！爸爸》 9.1分</li>
<li>《指环王3:王者无敌》 9.1分</li>
<li>《无间道1》 9.1分</li>
<li>《蝙蝠侠：黑暗骑士》 9.1分</li>
<li>《天空之城》 9.1分</li>
<li>《天堂电影院》 91分</li>
<li>《两杆大烟枪》 9.1分</li>
<li>《飞越疯人院》 91分</li>
<li>《钢琴家》 9.0分</li>
<li>《怦然心动》 9.0分</li>
<li>《楚门的世界》 9.0分</li>
<li>《爱·回家》 9.0分</li>
<li>《活着》 9.0分</li>
<li>《海洋》 9.0分</li>
<li>《日本国古屋敷村》 9.0分</li>
<li>《沉静如海》 9.0分</li>
<li>《饮食男女》 90分</li>
<li>《狩猎》 9.0分</li>
<li>《完美的世界》 9.0分</li>
<li>《追随》 9.0分</li>
<li>《我爱你》 9.0分</li>
<li>《搏击俱乐部》 9.0分</li>
<li>《我不是药神》 9.0分</li>
<li>《当幸福来敲门》 9.0分</li>
<li>《卡比利亚之夜》 9.0分</li>
<li>《寻梦环游记》 9.0分</li>
<li>《罗马假日》 9.0分</li>
<li>《哈尔的移动城堡》 9.0分</li>
<li>《闻香识女人》 9.0分</li>
<li>《少年派的奇幻漂流》 9.0分</li>
<li>《死亡诗社》 9.0分</li>
<li>《指环王2:双塔奇兵》 9.0分</li>
</ul>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::cjuf9cady8g8qej8vwmlxj::--><code>
### totoread
</code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>开源项目推荐：reFlutter——一款针对Flutter应用逆向工程的利器
<a href="https://blog.csdn.net/gitblog_00443/article/details/141208035" target="_blank" rel="noreferrer">https://blog.csdn.net/gitblog_00443/article/details/141208035</a>
最新商家端Anti-Content参数逆向分析（0as）（需要订阅专栏99）
<a href="https://blog.csdn.net/qiulin_wu/article/details/137346226" target="_blank" rel="noreferrer">https://blog.csdn.net/qiulin_wu/article/details/137346226</a>
推荐文章：深入探索Android逆向的利器 —— Super JADX
<a href="https://blog.csdn.net/gitblog_01026/article/details/141486240" target="_blank" rel="noreferrer">https://blog.csdn.net/gitblog_01026/article/details/141486240</a>
逆向学习系列（二）抓包软件的使用以Charles为例（真机）
<a href="https://blog.csdn.net/kxltsuperr/article/details/142092968" target="_blank" rel="noreferrer">https://blog.csdn.net/kxltsuperr/article/details/142092968</a>
安卓逆向基础流程（纯小白教程）
<a href="https://blog.csdn.net/liKeQing1027520/article/details/138134138" target="_blank" rel="noreferrer">https://blog.csdn.net/liKeQing1027520/article/details/138134138</a>
App逆向安全（一）抓包与脱壳
<a href="https://mp.weixin.qq.com/s/9SSpVnA68R1FapGzccBVkg" target="_blank" rel="noreferrer">https://mp.weixin.qq.com/s/9SSpVnA68R1FapGzccBVkg</a>
【JS逆向百例】酷某音乐 wasm 逆向
<a href="https://www.freebuf.com/articles/web/409490.html" target="_blank" rel="noreferrer">https://www.freebuf.com/articles/web/409490.html</a>
APP逆向百例五-Flutter逆向案例----某次元（AES+RSA）
<a href="https://blog.csdn.net/A_fanyifan/article/details/141462500" target="_blank" rel="noreferrer">https://blog.csdn.net/A_fanyifan/article/details/141462500</a>
安卓逆向工具汇总
<a href="https://github.com/WuFengXue/android-reverse" target="_blank" rel="noreferrer">https://github.com/WuFengXue/android-reverse</a></p>
<div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre><!--::markdown-it-async::sjo9iknp299k3l4s6tvkw::--><code></code></pre>
<div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div>